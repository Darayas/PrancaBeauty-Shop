@page "/{culture}/User/Products/Compo/Variants"
@model PrancaBeauty.WebApp.Pages.User.Products.Components.Compo_Variants.Compo_VariantsModel
@{
    string FieldName = Model.Input.FieldName;
    string FieldId = FieldName.Replace(".", "_").Replace("[", "_").Replace("]", "_");
    string FieldTitle = Localizer[FieldName.Split('.').Last()];
}

<div class="row">
    <script>
        function LoadVariantPercent(_Id) {
            $('#' + _Id).autoNumeric('init', { vMax: '1000',vMin:'-100', lZero: 'deny', aDec: '.', aSep: ',' });
        }
    </script>

    <div class="col-md-12">
        <button onclick="AddVariantInput()" type="button" class="btn btn-success btn-sm"><i class="fa fa-plus"></i></button>
        <hr />
        <div id="CompoAddVariantSection">
            <LoadComponent class="ProductVariantsItemCompo"
                           context="HttpContext"
                           data='new viCompo_Variants_Items { Index=0}'
                           url="/@ViewData["culture"]/User/Products/Compo/VariantsItem"></LoadComponent>

        </div>
    </div>

    <script src="~/lib/autoNumeric/autoNumeric.min.js"></script>
    <script>
        function AddVariantInput() {
            var _Count = $('.ProductVariantsItemCompo').length;

            LoadComponenet('/@ViewData["culture"]/User/Products/Compo/VariantsItem', {
                Index: _Count
            }, function (res) {
                $('#CompoAddVariantSection').append("<div class='ProductVariantsItemCompo'>" + res + "</div>");
            });
        }

        function RemoveVariants(_Index) {
            $('#Variants' + _Index).hide();
            $('#Variants' + _Index+' input').val("");
        }
    </script>
</div>