@inject PrancaBeauty.WebApp.Common.Utility.IpAddress.IIpAddressChecker IpAddressChecker

@{
    if (!ViewData.Any(a => a.Key == "LangDir"))
    {
        string IpAddress = Context.Connection.RemoteIpAddress.ToString();
        if (IpAddressChecker.CheckIp(IpAddress) == "ir")
        {
            ViewData["LangDir"] = "rtl";
        }
        else if (IpAddressChecker.CheckIp(IpAddress) == "us")
        {
            ViewData["LangDir"] = "ltr";
        }
        else
        {
            ViewData["LangDir"] = "rtl";
        }
    }

    ViewData["Culture"] = CultureInfo.CurrentCulture.Parent.Name;
}